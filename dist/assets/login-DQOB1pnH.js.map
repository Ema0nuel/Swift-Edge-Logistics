{"version":3,"file":"login-DQOB1pnH.js","sources":["../../src/script/views/Admin/login.js"],"sourcesContent":["import { reset } from \"../../utils/reset.js\";\r\nimport { verifyCredentials, setAdminSession } from \"../../utils/auth.js\";\r\nimport toastr from \"../../utils/toastr.js\";\r\n\r\nconst LOGO_URL = \"/src/images/logo.jpg\";\r\n\r\nconst login = () => {\r\n  reset(\"Admin Login\");\r\n\r\n  function handleLogin(email, password) {\r\n    if (verifyCredentials(email, password)) {\r\n      setAdminSession();\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function pageEvents() {\r\n    const loginForm = document.getElementById('loginForm');\r\n    const submitBtn = loginForm?.querySelector('button[type=\"submit\"]');\r\n\r\n    loginForm?.addEventListener('submit', async (e) => {\r\n      e.preventDefault();\r\n\r\n      const email = document.getElementById('email').value;\r\n      const password = document.getElementById('password').value;\r\n\r\n      if (!email || !password) {\r\n        toastr.warning('Please enter both email and password');\r\n        return;\r\n      }\r\n\r\n      submitBtn.disabled = true;\r\n      submitBtn.innerHTML = `\r\n        <svg class=\"animate-spin h-5 w-5 mr-3\" viewBox=\"0 0 24 24\">\r\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\r\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n        </svg>\r\n        Logging in...\r\n      `;\r\n\r\n      try {\r\n        // Simulate network delay\r\n        await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n        if (handleLogin(email, password)) {\r\n          toastr.success('Login successful');\r\n          window.location.href = '/admin/dashboard';\r\n        } else {\r\n          toastr.error('Invalid credentials');\r\n          submitBtn.disabled = false;\r\n          submitBtn.innerHTML = 'Login';\r\n        }\r\n      } catch (error) {\r\n        toastr.error('Login failed');\r\n        submitBtn.disabled = false;\r\n        submitBtn.innerHTML = 'Login';\r\n      }\r\n    });\r\n  }\r\n\r\n  return {\r\n    html: `\r\n      <div class=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-700 p-4 sm:p-6\">\r\n        <div class=\"bg-white p-8 sm:p-10 rounded-xl shadow-2xl w-full max-w-md transform transition-all duration-300 hover:scale-[1.01]\">\r\n          <div class=\"flex justify-center mb-8\">\r\n            <img src=\"${LOGO_URL}\" alt=\"SwiftEdge Logistics Logo\" class=\"h-16 w-auto object-contain rounded-lg shadow-md border border-gray-100\">\r\n          </div>\r\n          <h2 class=\"text-4xl font-extrabold text-center text-gray-900 mb-8\">Admin Portal</h2>\r\n          <form id=\"loginForm\" class=\"space-y-6\">\r\n            <div>\r\n              <label for=\"email\" class=\"block text-sm font-semibold text-gray-700 mb-2\">Email Address</label>\r\n              <input type=\"email\" id=\"email\" name=\"email\" required autocomplete=\"email\"\r\n                class=\"w-full px-5 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-3 focus:ring-blue-400 transition duration-150 ease-in-out\">\r\n            </div>\r\n            <div>\r\n              <label for=\"password\" class=\"block text-sm font-semibold text-gray-700 mb-2\">Password</label>\r\n              <input type=\"password\" id=\"password\" name=\"password\" required autocomplete=\"current-password\"\r\n                class=\"w-full px-5 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-3 focus:ring-blue-400 transition duration-150 ease-in-out\">\r\n            </div>\r\n            <button type=\"submit\"\r\n              class=\"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold text-lg hover:bg-blue-700 focus:outline-none focus:ring-3 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-white transition duration-200 ease-in-out transform hover:-translate-y-0.5\">\r\n              Login\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    `,\r\n    pageEvents\r\n  };\r\n};\r\n\r\nexport default login;"],"names":["LOGO_URL","login","reset","handleLogin","email","password","verifyCredentials","setAdminSession","pageEvents","loginForm","submitBtn","e","toastr","resolve"],"mappings":"+HAIA,MAAMA,EAAW,uBAEXC,EAAQ,IAAM,CAClBC,EAAM,aAAa,EAEnB,SAASC,EAAYC,EAAOC,EAAU,CACpC,OAAIC,EAAkBF,EAAOC,CAAQ,GACnCE,IACO,IAEF,EACT,CAEA,SAASC,GAAa,CACpB,MAAMC,EAAY,SAAS,eAAe,WAAW,EAC/CC,EAAYD,GAAW,cAAc,uBAAuB,EAElEA,GAAW,iBAAiB,SAAU,MAAOE,GAAM,CACjDA,EAAE,eAAc,EAEhB,MAAMP,EAAQ,SAAS,eAAe,OAAO,EAAE,MACzCC,EAAW,SAAS,eAAe,UAAU,EAAE,MAErD,GAAI,CAACD,GAAS,CAACC,EAAU,CACvBO,EAAO,QAAQ,sCAAsC,EACrD,MACF,CAEAF,EAAU,SAAW,GACrBA,EAAU,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQtB,GAAI,CAEF,MAAM,IAAI,QAAQG,GAAW,WAAWA,EAAS,GAAI,CAAC,EAElDV,EAAYC,EAAOC,CAAQ,GAC7BO,EAAO,QAAQ,kBAAkB,EACjC,OAAO,SAAS,KAAO,qBAEvBA,EAAO,MAAM,qBAAqB,EAClCF,EAAU,SAAW,GACrBA,EAAU,UAAY,QAE1B,MAAgB,CACdE,EAAO,MAAM,cAAc,EAC3BF,EAAU,SAAW,GACrBA,EAAU,UAAY,OACxB,CACF,CAAC,CACH,CAEA,MAAO,CACL,KAAM;AAAA;AAAA;AAAA;AAAA,wBAIcV,CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAsB5B,WAAAQ,CACJ,CACA"}