{"version":3,"file":"trackProducts-CZjxcwxL.js","sources":["../../src/script/views/Main/trackProducts.js"],"sourcesContent":["import Navbar from \"../User/components/navbar\";\nimport { supabase } from \"../../utils/supabaseClient\";\nimport toastr from \"../../utils/toastr\";\nimport dayjs from \"dayjs\";\nimport { reset } from \"../../utils/reset\";\nimport 'ol/ol.css';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport OSM from 'ol/source/OSM';\nimport { transform, transformExtent } from 'ol/proj';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport Style from 'ol/style/Style';\nimport Icon from 'ol/style/Icon';\nimport LineString from 'ol/geom/LineString';\nimport { Stroke } from 'ol/style';\n\n// --- Geocoding Helper ---\nasync function reverseGeocode(lat, lon) {\n  const url = `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`;\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    if (data && data.display_name) {\n      return data.display_name;\n    }\n  } catch (err) {}\n  return `${lat},${lon}`;\n}\n\n// --- Parse lat/lon from string ---\nfunction parseLatLon(location) {\n  let [a, b] = location.split(',').map(Number);\n  return [a, b];\n}\n\n// --- Map Logic (OpenLayers) ---\n// Always start from New York warehouse: [40.7127281, -74.0060152]\nconst WAREHOUSE_LOCATION = [40.7127281, -74.0060152];\n\nasync function renderTrackingMap(containerId, updates) {\n  // Always start with warehouse location\n  const points = [\n    WAREHOUSE_LOCATION,\n    ...updates\n      .map(u => parseLatLon(u.location))\n      .filter(([lat, lon]) => !isNaN(lat) && !isNaN(lon))\n  ];\n\n  // Center on last point, or warehouse if only one\n  const center = points.length > 1 ? points[points.length - 1] : WAREHOUSE_LOCATION;\n  const centerWebMercator = transform([center[1], center[0]], 'EPSG:4326', 'EPSG:3857');\n\n  document.getElementById(containerId).innerHTML = \"\";\n\n  const map = new Map({\n    target: containerId,\n    layers: [\n      new TileLayer({ source: new OSM() })\n    ],\n    view: new View({\n      center: centerWebMercator,\n      zoom: 10\n    })\n  });\n\n  // Draw path\n  if (points.length > 1) {\n    const lineCoords = points.map(([lat, lon]) => transform([lon, lat], 'EPSG:4326', 'EPSG:3857'));\n    const line = new Feature({\n      geometry: new LineString(lineCoords)\n    });\n    line.setStyle(new Style({\n      stroke: new Stroke({ color: '#F59E42', width: 4, lineDash: [8, 4] })\n    }));\n    const vectorSource = new VectorSource({ features: [line] });\n    const vectorLayer = new VectorLayer({ source: vectorSource });\n    map.addLayer(vectorLayer);\n  }\n\n  // Draw markers (warehouse and tracker stick)\n  for (let idx = 0; idx < points.length; idx++) {\n    const pt = points[idx];\n    let popupText = idx === 0 ? \"Warehouse (New York)\" : `Checkpoint #${idx}`;\n    let locationName = popupText;\n    if (idx > 0) {\n      locationName = await reverseGeocode(pt[0], pt[1]);\n      popupText = `Update: ${locationName}`;\n    }\n    const marker = new Feature({\n      geometry: new Point(transform([pt[1], pt[0]], 'EPSG:4326', 'EPSG:3857'))\n    });\n    marker.setStyle(new Style({\n      image: new Icon({\n        src: idx === 0\n          ? \"https://cdn-icons-png.flaticon.com/512/684/684908.png\"\n          : \"https://cdn.jsdelivr.net/npm/ol@v7.4.0/examples/data/icon.png\",\n        scale: idx === 0 ? 0.08 : 0.07,\n        anchor: [0.5, 1]\n      })\n    }));\n    marker.set('popup', popupText);\n    const vectorSource = new VectorSource({ features: [marker] });\n    const vectorLayer = new VectorLayer({ source: vectorSource });\n    map.addLayer(vectorLayer);\n\n    // Add popup on click\n    map.on('singleclick', function (evt) {\n      map.forEachFeatureAtPixel(evt.pixel, function (feature) {\n        const popup = document.createElement('div');\n        popup.className = 'ol-popup';\n        popup.style.background = '#fff';\n        popup.style.padding = '8px 12px';\n        popup.style.borderRadius = '8px';\n        popup.style.boxShadow = '0 2px 8px rgba(0,0,0,0.2)';\n        popup.innerHTML = feature.get('popup');\n        const overlay = document.createElement('div');\n        overlay.style.position = 'absolute';\n        overlay.style.left = evt.pixel[0] + 'px';\n        overlay.style.top = evt.pixel[1] + 'px';\n        overlay.appendChild(popup);\n        document.getElementById(containerId).appendChild(overlay);\n        setTimeout(() => overlay.remove(), 2500);\n      });\n    });\n  }\n\n  // Fit map to all points if more than one\n  if (points.length > 1) {\n    const extent = [\n      Math.min(...points.map(pt => pt[1])), // min lon\n      Math.min(...points.map(pt => pt[0])), // min lat\n      Math.max(...points.map(pt => pt[1])), // max lon\n      Math.max(...points.map(pt => pt[0]))  // max lat\n    ];\n    map.getView().fit(transformExtent(extent, 'EPSG:4326', 'EPSG:3857'), { padding: [40, 40, 40, 40] });\n  }\n}\n\nconst trackProducts = () => {\n  const { html: navbarHtml, pageEvents: navbarEvents } = Navbar(\"track\");\n\n  const heroBg =\n    \"https://www.wowtheme7.com/tf/transpro/assets/img/portfolio/2.png\";\n\n  const html = `\n    <div class=\"min-h-screen bg-[#1e293b] dark:bg-background-dark transition-colors duration-300 bg-cover bg-center\"\n      style=\"background-image: url('${heroBg}'); background-blend-mode: multiply;\">\n      ${navbarHtml}\n      <main id=\"track-main\" class=\"container mx-auto px-4 py-8 max-w-4xl\">\n        <section class=\"relative w-full h-56 md:h-72 flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8\"\n          style=\"background: url('${heroBg}') center/cover no-repeat, #1e293b;\">\n          <div class=\"absolute inset-0 bg-gradient-to-b from-black/60 to-background-dark/90\"></div>\n          <div class=\"relative z-10 flex flex-col items-center justify-center w-full h-full\">\n            <i class=\"fa fa-box-open text-5xl text-accent mb-4 animate-pulse\"></i>\n            <h1 class=\"text-4xl md:text-5xl font-extrabold text-white drop-shadow-lg mb-2\">Track Your Package</h1>\n            <p class=\"text-lg text-accent mt-2 font-semibold\">Real-time shipment status & location</p>\n          </div>\n        </section>\n        <form id=\"track-form\" class=\"flex flex-col md:flex-row gap-4 mb-8\">\n          <input\n            type=\"text\"\n            id=\"tracking-id-input\"\n            placeholder=\"Enter Tracking ID (e.g., TRK123456)\"\n            class=\"flex-grow p-3 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n            required\n          />\n          <button type=\"submit\"\n            class=\"px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-500 focus:ring-opacity-50\">\n            Track\n          </button>\n        </form>\n        <div id=\"tracking-result-container\"></div>\n        <div id=\"map-container\" class=\"mt-10 rounded-lg overflow-hidden shadow-lg\" style=\"height: 400px;\"></div>\n      </main>\n      <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css\">\n    </div>\n    <style>\n      .ol-popup {\n        font-size: 1rem;\n        pointer-events: none;\n        z-index: 1000;\n      }\n    </style>\n  `;\n\n  async function fetchShipment(trackingId) {\n    try {\n      const { data: shipment, error } = await supabase\n        .from(\"shipments\")\n        .select(\"*\")\n        .eq(\"tracking_code\", trackingId)\n        .single();\n\n      if (error || !shipment) {\n        toastr.error(\"Tracking ID not found.\");\n        return null;\n      }\n\n      const { data: updates } = await supabase\n        .from(\"tracking_updates\")\n        .select(\"*\")\n        .eq(\"shipment_id\", shipment.id)\n        .order(\"updated_at\", { ascending: true });\n\n      shipment.updates = updates || [];\n      toastr.success(\"Product fetched successfully!\");\n      return shipment;\n    } catch (err) {\n      toastr.error(\"Error fetching product.\");\n      return null;\n    }\n  }\n\n  async function renderTrackingResult(shipment) {\n    if (!shipment) {\n      document.getElementById(\"tracking-result-container\").innerHTML = `\n        <div class=\"bg-red-100 dark:bg-red-900 border border-red-400 text-red-700 dark:text-red-300 px-4 py-3 rounded-md mb-6\" role=\"alert\">\n          <p class=\"font-bold\">Error!</p>\n          <p class=\"text-sm\">Tracking ID not found. Please try again.</p>\n        </div>\n      `;\n      document.getElementById(\"map-container\").innerHTML = \"\";\n      return;\n    }\n\n    // Decode location names for history\n    let historyHtml = \"\";\n    for (const item of shipment.updates) {\n      let locationDisplay = item.location;\n      if (item.location && item.location.match(/^-?\\d+\\.\\d+,-?\\d+\\.\\d+$/)) {\n        const [lat, lon] = parseLatLon(item.location);\n        locationDisplay = await reverseGeocode(lat, lon);\n      }\n      historyHtml += `\n        <li class=\"flex items-start\">\n          <span class=\"text-indigo-500 dark:text-indigo-300 mr-3\">&#x2022;</span>\n          <div>\n            <span class=\"font-medium\">${dayjs(item.updated_at).format(\n              \"MMM D, HH:mm\"\n            )}:</span> ${item.status} - ${locationDisplay} <span class=\"text-xs text-text-subtle\">${item.note || \"\"}</span>\n          </div>\n        </li>\n      `;\n    }\n\n    // Current location\n    let currentLocation = shipment.origin;\n    if (shipment.updates.length) {\n      const lastUpdate = shipment.updates[shipment.updates.length - 1];\n      if (lastUpdate.location && lastUpdate.location.match(/^-?\\d+\\.\\d+,-?\\d+\\.\\d+$/)) {\n        const [lat, lon] = parseLatLon(lastUpdate.location);\n        currentLocation = await reverseGeocode(lat, lon);\n      } else if (lastUpdate.location) {\n        currentLocation = lastUpdate.location;\n      }\n    }\n\n    document.getElementById(\"tracking-result-container\").innerHTML = `\n      <div class=\"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg shadow-inner mb-4\">\n        <h3 class=\"text-2xl font-semibold mb-4 text-gray-700 dark:text-gray-300\">Tracking Details</h3>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-lg\">\n          <p><strong>Status:</strong> <span class=\"font-semibold\">${shipment.status}</span></p>\n          <p><strong>Current Location:</strong> ${currentLocation}</p>\n          <p><strong>Tracking ID:</strong> <span class=\"font-mono\">${shipment.tracking_code}</span></p>\n        </div>\n        <div class=\"mt-6\">\n          <h4 class=\"text-xl font-semibold mb-3 text-gray-700 dark:text-gray-300\">Tracking History</h4>\n          <ul class=\"space-y-2\">\n            ${historyHtml}\n          </ul>\n        </div>\n      </div>\n      <div id=\"productMapContainer\" style=\"height: 400px;\" class=\"mb-8 rounded-lg overflow-hidden\"></div>\n    `;\n\n    // Show map with tracker stick markers\n    setTimeout(() => {\n      renderTrackingMap('productMapContainer', shipment.updates);\n    }, 100);\n  }\n\n  function pageEvents(onNavigate = () => {}) {\n    navbarEvents(onNavigate);\n\n    reset(\"Track Product\");\n\n    document\n      .getElementById(\"track-form\")\n      .addEventListener(\"submit\", async (e) => {\n        e.preventDefault();\n        const trackingId = document\n          .getElementById(\"tracking-id-input\")\n          .value.trim()\n          .toUpperCase();\n        if (!trackingId) {\n          toastr.warning(\"Please enter a tracking ID.\");\n          return;\n        }\n        document.getElementById(\"tracking-result-container\").innerHTML =\n          '<div class=\"text-center py-8 text-accent animate-pulse\">Loading...</div>';\n        const shipment = await fetchShipment(trackingId);\n        await renderTrackingResult(shipment);\n      });\n  }\n\n  return {\n    html,\n    pageEvents,\n  };\n};\n\nexport default trackProducts;"],"names":["reverseGeocode","lat","lon","url","data","parseLatLon","location","a","b","WAREHOUSE_LOCATION","renderTrackingMap","containerId","updates","points","u","center","centerWebMercator","transform","map","Map","TileLayer","OSM","View","lineCoords","line","Feature","LineString","Style","Stroke","vectorSource","VectorSource","vectorLayer","VectorLayer","idx","pt","popupText","locationName","marker","Point","Icon","evt","feature","popup","overlay","extent","transformExtent","trackProducts","navbarHtml","navbarEvents","Navbar","heroBg","html","fetchShipment","trackingId","shipment","error","supabase","toastr","renderTrackingResult","historyHtml","item","locationDisplay","dayjs","currentLocation","lastUpdate","pageEvents","onNavigate","reset","e"],"mappings":"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"}